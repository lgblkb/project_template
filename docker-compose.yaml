x-env_params: &env_params
  STORAGE_DIR: &STORAGE_DIR /storage
  PROJECT_DIR: &PROJECT_DIR /project
  TZ: Asia/Almaty

x-default: &default
  build: .
  volumes:
    - { type: bind, source: "${PROJECT_DIR}", target: *PROJECT_DIR }
    - { type: bind, source: "${STORAGE_DIR}", target: *STORAGE_DIR }
  shm_size: "12gb"
  environment:
    <<: *env_params

services:
  server:
    <<: *default
    command: sleep infinity
    working_dir: *PROJECT_DIR


